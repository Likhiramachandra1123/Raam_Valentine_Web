<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For You ‚ù§Ô∏è</title>  <!-- THREE JS -->  <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js">  
  /* ================= RUNAWAY NO BUTTON (HOVER + TOUCH) ================= */
  const noBtn = document.getElementById('noBtn');
  const yesBtn = document.getElementById('yesBtn');

  function moveNoButton() {
    const x = Math.random() * 200 - 100;
    const y = Math.random() * 200 - 100;
    noBtn.style.transform = `translate(${x}px, ${y}px) scale(0.9)`;

    // YES button grows every escape üòå
    const currentScale = yesBtn.dataset.scale ? Number(yesBtn.dataset.scale) : 1;
    const newScale = currentScale + 0.1;
    yesBtn.dataset.scale = newScale;
    yesBtn.style.transform = `scale(${newScale})`;
  }

  noBtn.addEventListener('mouseover', moveNoButton);
  noBtn.addEventListener('touchstart', moveNoButton);

  /* ================= QUIZ DATA ================= */
  const quizData = [
    { q: "Who owns my heart?", a: ["You üòå", "Someone else", "Netflix"], c: 0 },
    { q: "What are we made for?", a: ["Forever ‚ù§Ô∏è", "Timepass", "Confusion"], c: 0 },
    { q: "When I see you I feel‚Ä¶", a: ["Home üè°", "Sleepy", "Hungry"], c: 0 },
    { q: "Our love story genre?", a: ["Soulmates ‚ú®", "Drama", "Horror"], c: 0 },
    { q: "Final truth?", a: ["We are meant ü•∞", "Maybe", "No idea"], c: 0 }
  ];

  let quizIndex = 0;

  function showQuiz() {
    const card = document.getElementById('card');
    const q = quizData[quizIndex];
    card.innerHTML = `<h1>${q.q}</h1>` + q.a.map((opt,i)=>
      `<button onclick=answerQuiz(${i})>${opt}</button>`
    ).join('');
    card.style.opacity = 1;
    card.style.transform = 'scale(1)';
  }

  function answerQuiz(i) {
    trackEvent('QUIZ_ATTEMPT', quizData[quizIndex].q + ' ‚Üí ' + quizData[quizIndex].a[i]);

    if (i === quizData[quizIndex].c) {
      trackEvent('QUIZ_CORRECT', quizData[quizIndex].q);
      quizIndex++;
      if (quizIndex < quizData.length) {
        showQuiz();
      } else {
        trackEvent('QUIZ_COMPLETED','All 5 answered');
        document.getElementById('card').innerHTML = `<h1>You chose love‚Ä¶ always ‚ù§Ô∏è</h1>`;
      }
    } else {
      trackEvent('QUIZ_WRONG', quizData[quizIndex].q);
      alert('Hehe üòú you know that‚Äôs not the right one');
    }
  } else {
        document.getElementById('card').innerHTML = `<h1>You chose love‚Ä¶ always ‚ù§Ô∏è</h1>`;
      }
    } else {
      alert('Hehe üòú you know that‚Äôs not the right one');
    }
  }

  /* ================= EXTEND YES ACTION ================= */
  const originalYes = yesClicked;
  yesClicked = function() {
    originalYes();
    setTimeout(showQuiz, 6000);
  };

  
  /* ===== GOOGLE FORM TRACK FUNCTION ===== */
  function trackEvent(action, value) {
    document.getElementById('trackAction').value = action;
    document.getElementById('trackValue').value = value;
    document.getElementById('trackForm').submit();
  }

</script>  <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/examples/js/controls/OrbitControls.js"></script>  <!-- GSAP -->  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      overflow: hidden;
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at top, #1a001f, #000);
      color: white;
    }

    canvas { position: fixed; top: 0; left: 0; z-index: 1; }

    .ui {
      position: absolute;
      z-index: 5;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
    }

    .card {
      pointer-events: auto;
      backdrop-filter: blur(20px);
      background: rgba(255, 255, 255, 0.08);
      border-radius: 30px;
      padding: 30px;
      width: 90%;
      max-width: 380px;
      text-align: center;
      box-shadow: 0 0 60px rgba(255,105,180,0.3);
      transform-style: preserve-3d;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 20px;
    }

    button {
      margin-top: 15px;
      width: 100%;
      padding: 14px;
      border-radius: 20px;
      border: none;
      background: linear-gradient(135deg, #ff5fa2, #ff9fd2);
      color: white;
      font-size: 16px;
      cursor: pointer;
    }

    .loveText {
      position: absolute;
      font-size: 48px;
      font-weight: bold;
      opacity: 0;
      z-index: 10;
      text-shadow: 0 0 30px pink;
    }

    .carousel {
      position: absolute;
      bottom: 10%;
      width: 90%;
      max-width: 320px;
      display: flex;
      overflow: hidden;
      border-radius: 20px;
      box-shadow: 0 0 40px rgba(255,192,203,0.5);
      opacity: 0;
    }

    .carousel img {
      width: 100%;
      flex-shrink: 0;
    }

    @media (max-width: 600px) {
      h1 { font-size: 24px; }
      .loveText { font-size: 34px; }
    }
  </style></head>
<body><canvas id="three"></canvas>

<div class="ui">
  <div class="card" id="card">
    <h1>Can I ask you something‚Ä¶ ü•∫</h1>
    <button id="yesBtn" onclick="yesClicked()">Yes üíñ</button>
    <button id="noBtn" onclick="noClicked()">No üôà</button>
  </div>
</div><div class="loveText" id="loveText">I love you, babe ‚ù§Ô∏è</div><div class="carousel" id="carousel">
  <img src="https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif" />
  <img src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif" />
  <img src="https://media.giphy.com/media/26BRv0ThflsHCqDrG/giphy.gif" />
</div><audio id="song" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>

<!-- GOOGLE FORM (HIDDEN TRACKING) --><form id="trackForm" action="https://docs.google.com/forms/d/e/YOUR_FORM_ID/formResponse" method="POST" target="hidden_iframe">
  <input type="hidden" name="entry.1111111111" id="trackAction">
  <input type="hidden" name="entry.2222222222" id="trackValue">
</form>
<iframe name="hidden_iframe" style="display:none"></iframe><script>
  /* ================= THREE JS SCENE ================= */
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three'), alpha: true, antialias:true });
  renderer.setSize(window.innerWidth, window.innerHeight);

  camera.position.set(0, 2, 10);

  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableZoom = false;
  controls.enablePan = false;

  /* ===== LIGHTING ===== */
  const ambient = new THREE.AmbientLight(0xffffff, 1.2);
  scene.add(ambient);
  const keyLight = new THREE.PointLight(0xff9fd2, 2.5, 50);
  keyLight.position.set(5, 6, 6);
  scene.add(keyLight);

  /* ===== HEART BASE ===== */
  const heartShape = new THREE.Shape();
  heartShape.moveTo(0, 0);
  heartShape.bezierCurveTo(0, 0, -2, -2, -4, 0);
  heartShape.bezierCurveTo(-6, 3, -3, 6, 0, 8);
  heartShape.bezierCurveTo(3, 6, 6, 3, 4, 0);
  heartShape.bezierCurveTo(2, -2, 0, 0, 0, 0);

  const heartGeo = new THREE.ExtrudeGeometry(heartShape, { depth: 2, bevelEnabled: true, bevelSize: 0.6, bevelThickness: 0.6 });
  const heartMat = new THREE.MeshStandardMaterial({ color: 0xff4f9a, roughness: 0.2, metalness: 0.6, emissive: 0xff1f7a });
  const heartMesh = new THREE.Mesh(heartGeo, heartMat);
  heartMesh.rotation.x = Math.PI;
  heartMesh.scale.set(0.25,0.25,0.25);
  scene.add(heartMesh);

  /* ===== DOREAMON (STYLIZED) ===== */
  function createDoraemon() {
    const group = new THREE.Group();

    const body = new THREE.Mesh(new THREE.SphereGeometry(0.9,32,32), new THREE.MeshStandardMaterial({color:0x2fa4ff}));
    const face = new THREE.Mesh(new THREE.SphereGeometry(0.7,32,32), new THREE.MeshStandardMaterial({color:0xffffff}));
    face.position.z = 0.4;

    const nose = new THREE.Mesh(new THREE.SphereGeometry(0.12,16,16), new THREE.MeshStandardMaterial({color:0xff0000}));
    nose.position.set(0,0.1,1);

    group.add(body, face, nose);
    group.position.set(-0.6, 1.1, 0);
    return group;
  }

  /* ===== NOBITA (STYLIZED BEGGING) ===== */
  function createNobita() {
    const group = new THREE.Group();

    const head = new THREE.Mesh(new THREE.SphereGeometry(0.45,32,32), new THREE.MeshStandardMaterial({color:0xffddb3}));
    const body = new THREE.Mesh(new THREE.CylinderGeometry(0.35,0.4,0.9,32), new THREE.MeshStandardMaterial({color:0xffe066}));
    body.position.y = -0.7;

    const handL = new THREE.Mesh(new THREE.CylinderGeometry(0.08,0.08,0.7,16), new THREE.MeshStandardMaterial({color:0xffddb3}));
    const handR = handL.clone();
    handL.position.set(-0.4,-0.4,0.2);
    handR.position.set(0.4,-0.4,0.2);
    handL.rotation.z = Math.PI/3;
    handR.rotation.z = -Math.PI/3;

    group.add(head, body, handL, handR);
    group.position.set(0.8, 1.2, 0);
    return group;
  }

  const doraemon = createDoraemon();
  const nobita = createNobita();

  scene.add(doraemon);
  scene.add(nobita);

  /* ===== FLOATING MINI HEART (BEGGING) ===== */
  const miniHeart = new THREE.Mesh(new THREE.SphereGeometry(0.18,32,32), new THREE.MeshStandardMaterial({color:0xff2f7a, emissive:0xff1493}));
  miniHeart.position.set(0.2, 1.8, 1);
  scene.add(miniHeart);

  /* ===== FLOATING BACKGROUND HEARTS ===== */
  const heartGeometry = new THREE.SphereGeometry(0.12, 32, 32);
  const heartMaterial = new THREE.MeshStandardMaterial({ color: 0xff5fa2, emissive: 0xff2f92 });
  const hearts = [];
  for (let i = 0; i < 70; i++) {
    const h = new THREE.Mesh(heartGeometry, heartMaterial);
    h.position.set((Math.random()-0.5)*12, (Math.random()-0.5)*12, (Math.random()-0.5)*12);
    hearts.push(h);
    scene.add(h);
  }

  /* ===== POST PROCESSING (GLOW FEEL VIA MATERIAL) ===== */
  heartMat.emissiveIntensity = 1.2;

  /* ===== ROSE PETAL PARTICLES ===== */
  const petalGeo = new THREE.CircleGeometry(0.12, 16);
  const petalMat = new THREE.MeshStandardMaterial({ color: 0xff6fae, side: THREE.DoubleSide });
  const petals = [];
  for (let i = 0; i < 60; i++) {
    const p = new THREE.Mesh(petalGeo, petalMat);
    p.position.set((Math.random()-0.5)*12, Math.random()*8, (Math.random()-0.5)*6);
    p.rotation.x = Math.random()*Math.PI;
    petals.push(p);
    scene.add(p);
  }

  /* ===== EMOTIONAL ANIMATION LOOP ===== */
  function animate() {
    requestAnimationFrame(animate);

    // Heart throne
    heartMesh.rotation.y += 0.003;

    // Doraemon gentle nod
    doraemon.rotation.y += 0.005;
    doraemon.rotation.x = Math.sin(Date.now()*0.002)*0.05;

    // Nobita begging motion
    nobita.rotation.y -= 0.006;
    nobita.position.y = 1.2 + Math.sin(Date.now()*0.003)*0.05;

    // Floating love heart
    miniHeart.position.y = 1.8 + Math.sin(Date.now()*0.004)*0.2;
    miniHeart.rotation.y += 0.05;

    // Rose petals falling
    petals.forEach(p => {
      p.position.y -= 0.01;
      p.rotation.z += 0.01;
      if (p.position.y < -4) p.position.y = 6;
    });

    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });

  /* ================= INTERACTION ================= */
  function yesClicked() {
    document.getElementById('song').play();

    // TRACK YES CLICK
    trackEvent('YES_CLICK','She clicked YES');

    gsap.to('#card', { opacity: 0, scale: 0.7, duration: 0.8 });

    gsap.to('#loveText', {
      opacity: 1,
      y: -120,
      duration: 2,
      ease: 'power3.out'
    });

    gsap.to('#carousel', { opacity: 1, duration: 1, delay: 1.5 });
    autoSlide();
  });

    gsap.to('#loveText', {
      opacity: 1,
      y: -120,
      duration: 2,
      ease: 'power3.out'
    });

    gsap.to('#carousel', { opacity: 1, duration: 1, delay: 1.5 });
    autoSlide();
  }

  // No button is now UNCLICKABLE üòà
function noClicked() {}


  function autoSlide() {
    const carousel = document.getElementById('carousel');
    let index = 0;
    setInterval(() => {
      index = (index + 1) % carousel.children.length;
      carousel.style.transform = `translateX(-${index * 100}%)`;
    }, 2500);
  }
</script></body>
</html>
