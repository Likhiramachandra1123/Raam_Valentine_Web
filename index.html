<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Valentine's Scroll Experience</title>
  <style>
    body, html { margin: 0; padding: 0; height: 100%; overflow-x: hidden; font-family: 'Arial', sans-serif; }
    section {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2em;
      color: white;
      position: relative;
      z-index: 10;
      opacity: 0;
    }
    canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; }
    button { margin-top: 20px; padding: 10px 20px; font-size: 1em; cursor: pointer; }
    #final h1 { font-size: 3em; color: pink; text-shadow: 0 0 20px red; }
  </style>
</head>
<body>
  <canvas id="bg"></canvas>

  <section id="intro">
    <div>
      <h1>Will you be my forever?</h1>
      <button id="yesBtn">Yes üíñ</button>
      <button id="noBtn">No üòú</button>
    </div>
  </section>

  <section id="questions">
    <div id="questionBox">
      <p id="questionText">Do you know how much I love you? üíï</p>
      <button id="nextBtn">Next ‚û°Ô∏è</button>
    </div>
  </section>

  <section id="final">
    <h1>You are my forever ‚ù§Ô∏è</h1>
  </section>

  <audio id="song" src="yoursong.mp3"></audio>

  <!-- Three.js + GSAP -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

  <script>
    // --- Three.js Scene ---
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById("bg"), antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);

    const light = new THREE.PointLight(0xffffff, 1);
    light.position.set(10,10,10);
    scene.add(light);

    // Floating hearts
    const hearts = [];
    const heartGeometry = new THREE.SphereGeometry(0.2, 16, 16);
    const heartMaterial = new THREE.MeshPhongMaterial({ color: 0xff0000 });
    for (let i = 0; i < 80; i++) {
      const heart = new THREE.Mesh(heartGeometry, heartMaterial);
      heart.position.set((Math.random()-0.5)*30, (Math.random()-0.5)*30, (Math.random()-0.5)*30);
      scene.add(heart);
      hearts.push(heart);
    }

    camera.position.z = 12;

    function animate() {
      requestAnimationFrame(animate);
      hearts.forEach(h => {
        h.rotation.x += 0.01;
        h.rotation.y += 0.01;
        h.position.y += Math.sin(Date.now()*0.001 + h.position.x)*0.002;
      });
      renderer.render(scene, camera);
    }
    animate();

    window.addEventListener("resize", () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Parallax mouse movement
    document.addEventListener("mousemove", (event) => {
      const x = (event.clientX / window.innerWidth - 0.5) * 2;
      const y = (event.clientY / window.innerHeight - 0.5) * 2;
      camera.position.x = x * 2;
      camera.position.y = -y * 2;
    });

    // --- Scroll Animations ---
    gsap.registerPlugin(ScrollTrigger);

    gsap.utils.toArray("section").forEach(section => {
      gsap.to(section, {
        opacity: 1,
        duration: 1,
        scrollTrigger: {
          trigger: section,
          start: "top center",
          toggleActions: "play none none reverse"
        }
      });
    });

    gsap.to(camera.position, {
      z: 6,
      scrollTrigger: {
        trigger: "#questions",
        start: "top center",
        end: "bottom center",
        scrub: true
      }
    });

    gsap.to(camera.rotation, {
      y: Math.PI,
      scrollTrigger: {
        trigger: "#final",
        start: "top center",
        end: "bottom center",
        scrub: true
      }
    });

    // --- Interaction Logic ---
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const song = document.getElementById("song");
    const questionText = document.getElementById("questionText");
    const nextBtn = document.getElementById("nextBtn");

    const teasingQuestions = [
      "Do you know how much I love you? üíï",
      "Will you always hold my hand? ü§≤",
      "Can you promise to smile forever? üòä",
      "Would you still love me if I snore? üò¥",
      "Will you share your fries with me? üçü",
      "Can you handle my endless teasing? üòú",
      "Will you be my partner in crime? üïµÔ∏è",
      "Do you realize you‚Äôre stuck with me now? üòè"
    ];
    let qIndex = 0;

    noBtn.onclick = () => {
      yesBtn.style.transform = "scale(1.5)";
    };

    yesBtn.onclick = () => {
      song.play();
      questionText.innerHTML = teasingQuestions[qIndex];
    };

    nextBtn.onclick = () => {
      qIndex++;
      if (qIndex < teasingQuestions.length) {
        questionText.innerHTML = teasingQuestions[qIndex];
      } else {
        document.getElementById("questions").style.display = "none";
        document.getElementById("final").style.display = "flex";
      }
    };
  </script>
</body>
</html>
